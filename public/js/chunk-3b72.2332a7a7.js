(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b72"],{"024e":function(e,a,t){"use strict";var r=t("b04e"),s=t.n(r);s.a},3749:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("UserLayout",{staticClass:"bg-grey-lightest"},[t("h1",{staticClass:"text-center my-4 md:my-8",attrs:{slot:"page-title"},slot:"page-title"},[e._v("\n    Your Profile\n  ")]),t("div",{staticClass:"flex items-center justify-between border-b pb-4 mb-4"},[t("h6",{staticClass:"font-medium"},[e._v("\n      Personal Details & Contact Information\n    ")]),t("h6",{staticClass:"font-medium"},[e._v("\n      76% Complete\n    ")])]),t("form",{staticClass:"flex-1 flex flex-col justify-between",on:{submit:function(a){return a.preventDefault(),e.updateProfile(a)}}},[t("div",{staticClass:"cols"},[t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"first_name",placeholder:"First Name",error:e.error.first_name?e.error.first_name[0]:null},model:{value:e.profile.first_name,callback:function(a){e.$set(e.profile,"first_name",a)},expression:"profile.first_name"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"last_name",placeholder:"Last Name",error:e.error.last_name?e.error.last_name[0]:null},model:{value:e.profile.last_name,callback:function(a){e.$set(e.profile,"last_name",a)},expression:"profile.last_name"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"email",placeholder:"Email Address",error:e.error.email?e.error.email[0]:null},model:{value:e.profile.email,callback:function(a){e.$set(e.profile,"email",a)},expression:"profile.email"}})],1),t("div",{staticClass:"col half"},[t("BaseDatePicker",{attrs:{value:e.profile.dob,placeholder:"Date of Birth",error:e.error.dob?e.error.dob[0]:null},model:{value:e.profile.dob,callback:function(a){e.$set(e.profile,"dob",a)},expression:"profile.dob"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"address_1",placeholder:"Address Line 1",error:e.error.address_1?e.error.address_1[0]:null},model:{value:e.profile.address.address_1,callback:function(a){e.$set(e.profile.address,"address_1",a)},expression:"profile.address.address_1"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"address_2",placeholder:"Address Line 2",error:e.error.address_2?e.error.address_2[0]:null},model:{value:e.profile.address.address_2,callback:function(a){e.$set(e.profile.address,"address_2",a)},expression:"profile.address.address_2"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"city",placeholder:"Town / City",error:e.error.city?e.error.city[0]:null},model:{value:e.profile.address.city,callback:function(a){e.$set(e.profile.address,"city",a)},expression:"profile.address.city"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"state",placeholder:"State / County",error:e.error.state?e.error.state[0]:null},model:{value:e.profile.address.state,callback:function(a){e.$set(e.profile.address,"state",a)},expression:"profile.address.state"}})],1),t("div",{staticClass:"col half"},[e.countries?t("BaseSelect",{attrs:{value:e.profile.address.country,options:e.countries,placeholder:"Country",index:"value"},model:{value:e.profile.address.country,callback:function(a){e.$set(e.profile.address,"country",a)},expression:"profile.address.country"}}):e._e()],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"postcode",placeholder:"Zip Code / Postcode",error:e.error.zip_code?e.error.zip_code[0]:null},model:{value:e.profile.address.zip_code,callback:function(a){e.$set(e.profile.address,"zip_code",a)},expression:"profile.address.zip_code"}})],1)]),t("div",{staticClass:"flex justify-center lg:justify-end"},[t("BaseButton",{staticClass:"min-width shadow",attrs:{disabled:e.load,type:"submit"}},[e.load?t("BaseIcon",{attrs:{name:"spinner",spin:""}}):t("span",[e._v("\n          SAVE\n        ")])],1)],1)])])},s=[],i=(t("f751"),t("96cf"),t("3040")),l=t("c93e"),n=(t("7f7f"),t("bc3a")),o=t.n(n),d=t("c55f"),c=t("2f62"),u=t("2ef0"),p=t("eae4"),f={page:function(){return{title:this.user.name,meta:[{name:"description",content:"The user profile for ".concat(this.user.name,".")}]}},components:{UserLayout:d["a"]},data:function(){return{profile:{first_name:"",last_name:"",email:"",dob:"",address:{address_1:"",address_2:"",state:"",city:"",zip_code:"",country:""}},validationErrors:{},error:{},load:!1,countries:null}},computed:Object(l["a"])({},Object(c["c"])({user:"auth/user",address:"auth/address"})),mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var a,t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setUserAddress();case 2:return this.initData(),e.next=5,o.a.get("countries");case 5:a=e.sent,t=a.data.data,this.countries=Object(u["map"])(t,function(e){return{label:e.name,value:e.alpha_2}});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:Object(l["a"])({},Object(c["b"])({updateUser:"profile/updateUser",setUserAddress:"auth/setUserAddress",updateCurrentUser:"auth/updateCurrentUser"}),{initData:function(){this.profile=Object.assign(this.profile,Object(u["pick"])(this.user,["id","first_name","last_name","email","dob"])),this.profile.address=Object.assign(this.profile.address,this.address)},updateProfile:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var a,t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.load=!0,console.log(this.profile),e.prev=2,e.next=5,o.a.patch("users/".concat(this.user.id),this.profile);case 5:a=e.sent,t=a.data,this.updateCurrentUser(t.data),Object(p["c"])({text:"User successfully updated!"}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.error=e.t0.response.data.errors;case 14:this.load=!1;case 15:case"end":return e.stop()}},e,this,[[2,11]])}));return function(){return e.apply(this,arguments)}}()})},v=f,m=t("2877"),h=Object(m["a"])(v,r,s,!1,null,null,null);h.options.__file="Profile.vue";a["default"]=h.exports},"70ce":function(e,a,t){"use strict";var r=t("fcf3"),s=t.n(r);s.a},b04e:function(e,a,t){},c55f:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("NavBar"),t("div",{staticClass:"content px-3 lg:px-0"},[e._t("page-title"),t("div",{staticClass:"container mx-auto mb-12"},[t("div",{staticClass:"flex flex-col md:flex-row"},[t("SideBar"),t("div",{staticClass:"white-wrapper flex flex-col flex-1 ml-0 md:ml-6"},[e._t("default")],2)],1)])],2),t("Breadcrumbs"),t("AppFooter")],1)},s=[],i=t("d000"),l=t("b6c6"),n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"sidebar"},[t("Uploader"),t("ul",e._l(e.menu,function(a,r){return t("li",{key:r},[t("router-link",{staticClass:"text font-semibold hover:text-green-dark",attrs:{"active-class":"text-green-dark",exact:"",to:a.path}},[e._v("\n        "+e._s(a.name)+"\n      ")])],1)}))],1)},o=[],d=t("c93e"),c=t("2f62"),u=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"uploader"},[t("div",{staticClass:"avatar-wrapper"},[e.load?t("div",{staticClass:"loader"},[t("BaseIcon",{attrs:{name:"spinner",spin:""}})],1):e._e(),t("LazyLoad",{attrs:{src:e.avatar}},[t("img",{attrs:{src:e.avatar}}),t("div",{staticClass:"placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[t("BaseIcon",{attrs:{name:"spinner",spin:""}})],1)])],1),t("a",{staticClass:"label text font-semibold cursor-pointer",on:{click:function(a){e.$upload.select("profile-avatar")}}},[t("BaseIcon",{attrs:{name:"camera"}}),e._v("\n    Upload Picture\n  ")],1)])},p=[],f=(t("96cf"),t("3040")),v=(t("551c"),t("ea07")),m=t("2ef0"),h=t("eae4"),b={components:{LazyLoad:v["VueClazyLoad"]},data:function(){return{load:!1}},created:function(){var e=this;this.$upload.on("profile-avatar",{onError:function(e){Object(h["a"])({text:"Error uploading avatar."})},http:function(){var a=Object(f["a"])(regeneratorRuntime.mark(function a(t){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return e.load=!0,a.next=3,e.uploadAvatar(t.body);case 3:e.load=!1,Object(h["c"])({text:"Avatar uploaded."});case 5:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()})},computed:Object(d["a"])({},Object(c["c"])({user:"auth/user"}),{avatar:function(){var e=Object(m["get"])(this.user,"avatar");return e||"/avatar.svg"}}),methods:Object(d["a"])({},Object(c["b"])({uploadAvatar:"profile/uploadAvatar"}))},_=b,x=(t("70ce"),t("2877")),C=Object(x["a"])(_,u,p,!1,null,null,null);C.options.__file="Uploader.vue";var y=C.exports,w={components:{Uploader:y},computed:Object(d["a"])({},Object(c["c"])({menu:"sidebarMenu/getSidebarMenu"}))},j=w,g=(t("024e"),Object(x["a"])(j,n,o,!1,null,"71db7090",null));g.options.__file="SideBar.vue";var O=g.exports,k=t("fd2d"),B={components:{NavBar:i["a"],AppFooter:k["a"],Breadcrumbs:l["a"],SideBar:O}},q=B,U=Object(x["a"])(q,r,s,!1,null,null,null);U.options.__file="User.vue";a["a"]=U.exports},fcf3:function(e,a,t){}}]);
//# sourceMappingURL=chunk-3b72.2332a7a7.js.map