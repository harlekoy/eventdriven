(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c46"],{"6fb1":function(e,a,t){},"74e8":function(e,a,t){"use strict";var s=t("6fb1"),r=t.n(s);r.a},"871b":function(e,a,t){},a736:function(e,a,t){"use strict";var s=t("871b"),r=t.n(s);r.a},bc78:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("UserLayout",{staticClass:"bg-grey-lightest"},[t("h1",{staticClass:"text-center my-8",attrs:{slot:"page-title"},slot:"page-title"},[e._v("\n    Your Profile\n  ")]),t("div",{staticClass:"flex items-center justify-between border-b pb-4 mb-4"},[t("h2",{staticClass:"font-light text-lg"},[e._v("\n      Personal Details & Contact Information\n    ")]),t("span",[e._v("76% Complete")])]),t("form",{on:{submit:function(a){return a.preventDefault(),e.updateProfile(a)}}},[t("div",{staticClass:"flex flex-wrap -mx-4"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-1/2 px-4 my-1",attrs:{"target-class":{"w-full":!0},name:"first_name",placeholder:"First name",error:e.validationErrors.first_name},model:{value:e.profile.first_name,callback:function(a){e.$set(e.profile,"first_name",a)},expression:"profile.first_name"}}),t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-1/2 px-4 my-1",attrs:{"target-class":{"w-full":!0},name:"last_name",placeholder:"Last name",error:e.validationErrors.last_name},model:{value:e.profile.last_name,callback:function(a){e.$set(e.profile,"last_name",a)},expression:"profile.last_name"}}),t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-1/2 px-4 my-1",attrs:{"target-class":{"w-full":!0},name:"username",placeholder:"Username",error:e.validationErrors.username},model:{value:e.profile.username,callback:function(a){e.$set(e.profile,"username",a)},expression:"profile.username"}}),t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-1/2 px-4 my-1",attrs:{"target-class":{"w-full":!0},name:"email",placeholder:"Email Address",error:e.validationErrors.email},model:{value:e.profile.email,callback:function(a){e.$set(e.profile,"email",a)},expression:"profile.email"}}),t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-1/2 px-4 my-1",attrs:{"target-class":{"w-full":!0},name:"address_1",placeholder:"Address Line 1",error:e.validationErrors.address_1},model:{value:e.address.address_1,callback:function(a){e.$set(e.address,"address_1",a)},expression:"address.address_1"}}),t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-1/2 px-4 my-1",attrs:{"target-class":{"w-full":!0},name:"address_2",placeholder:"Address Line 2",error:e.validationErrors.address_2},model:{value:e.address.address_2,callback:function(a){e.$set(e.address,"address_2",a)},expression:"address.address_2"}}),t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-1/2 px-4 my-1",attrs:{"target-class":{"w-full":!0},name:"city",placeholder:"Town / City",error:e.validationErrors.city},model:{value:e.address.city,callback:function(a){e.$set(e.address,"city",a)},expression:"address.city"}}),t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-1/2 px-4 my-1",attrs:{"target-class":{"w-full":!0},name:"state",placeholder:"State / County",error:e.validationErrors.state},model:{value:e.address.state,callback:function(a){e.$set(e.address,"state",a)},expression:"address.state"}}),t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-1/2 px-4 my-1",attrs:{"target-class":{"w-full":!0},name:"country",placeholder:"Country",error:e.validationErrors.country},model:{value:e.address.country,callback:function(a){e.$set(e.address,"country",a)},expression:"address.country"}}),t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"w-1/2 px-4 my-1",attrs:{"target-class":{"w-full":!0},name:"postcode",placeholder:"Zip Code / Postcode",error:e.validationErrors.zip_code},model:{value:e.address.zip_code,callback:function(a){e.$set(e.address,"zip_code",a)},expression:"address.zip_code"}})],1),t("div",{staticClass:"flex justify-end"},[t("BaseButton",{staticClass:"rounded py-4 w-48 my-2 bg-gradient",attrs:{type:"submit"}},[e.load?t("BaseIcon",{attrs:{name:"spinner",spin:""}}):t("span",{staticClass:"uppercase font-bold"},[e._v("\n          Save\n        ")])],1)],1)])])},r=[],i=(t("96cf"),t("3040")),n=(t("f751"),t("c93e")),l=(t("7f7f"),t("c55f")),o=t("2f62"),d=t("2ef0"),c=t("eae4"),u={page:function(){return{title:this.user.name,meta:[{name:"description",content:"The user profile for ".concat(this.user.name,".")}]}},components:{UserLayout:l["a"]},data:function(){return{profile:{first_name:"",last_name:"",email:"",username:""},address:{address_1:"",address_2:"",state:"",city:"",zip_code:"",country:""},validationErrors:{},load:!1}},computed:Object(n["a"])({},Object(o["c"])({user:"auth/user"})),mounted:function(){this.initData()},methods:Object(n["a"])({},Object(o["b"])({updateUser:"profile/updateUser",updateCurrentUser:"auth/updateCurrentUser"}),{initData:function(){this.profile=Object.assign(this.profile,Object(d["pick"])(this.user,["id","first_name","last_name","username","email"])),this.address=Object.assign(this.address,this.user.address)},updateProfile:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var a,t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.load=!0,e.prev=1,e.next=4,this.updateUser(Object(n["a"])({},this.profile,{address:this.address}));case 4:return a=e.sent,t=a.data.data,e.next=8,this.updateCurrentUser(t);case 8:Object(c["b"])({text:"Account successfully updated.",width:400}),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](1),s=e.t0.response.data.errors,this.validationErrors=Object(d["mapValues"])(s,function(e){return Object(d["head"])(e)});case 15:this.load=!1;case 16:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()})},p=u,f=(t("74e8"),t("2877")),v=Object(f["a"])(p,s,r,!1,null,"4e4d7c5e",null);v.options.__file="Profile.vue";a["default"]=v.exports},c55f:function(e,a,t){"use strict";var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"h-full"},[t("NavBar"),t("div",{staticClass:"content"},[e._t("page-title"),t("div",{staticClass:"container mx-auto mb-12"},[t("div",{staticClass:"flex"},[t("SideBar"),t("div",{staticClass:"bg-white h-full flex-1 rounded-lg text-grey-darkest p-4 shadow-lg"},[e._t("default")],2)],1)])],2),t("Breadcrumbs"),t("AppFooter")],1)},r=[],i=t("d000"),n=t("b6c6"),l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"w-1/4 pr-8 flex justify-end"},[t("div",{staticClass:"flex flex-col w-48"},[t("Uploader"),t("ul",{staticClass:"list-reset"},e._l(e.menu,function(a,s){return t("li",{key:s,staticClass:"py-4 border-b"},[t("router-link",{staticClass:"text-black font-bold hover:text-green-dark",attrs:{"active-class":"text-green-dark",exact:"",to:a.path}},[e._v("\n          "+e._s(a.name)+"\n        ")])],1)}))],1)])},o=[],d=t("c93e"),c=t("2f62"),u=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"flex flex-col"},[t("div",{staticClass:"relative w-32 h-32 rounded-full flex overflow-hidden"},[e.load?t("div",{staticClass:"flex items-center justify-center bg-black opacity-50 w-32 h-32 absolute rounded-full z-40"},[t("BaseIcon",{staticClass:"text-white text-xl z-50",attrs:{name:"spinner",spin:""}})],1):e._e(),t("LazyLoad",{attrs:{src:e.avatar}},[t("img",{staticClass:"absolute w-full",attrs:{src:e.avatar,alt:""}}),t("div",{staticClass:"flex justify-center items-center w-32 h-32 bg-grey-lighter text-grey-darker",attrs:{slot:"placeholder"},slot:"placeholder"},[t("BaseIcon",{staticClass:"text-xl z-50",attrs:{name:"spinner",spin:""}})],1)])],1),t("a",{staticClass:"text-black my-8 font-bold hover:text-green-dark",attrs:{href:"#"},on:{click:function(a){e.$upload.select("profile-avatar")}}},[t("BaseIcon",{staticClass:"mr-2",attrs:{name:"camera"}}),e._v("\n    Upload Picture\n  ")],1)])},p=[],f=(t("96cf"),t("3040")),v=t("ea07"),m=t("2ef0"),b=t("eae4"),x={components:{LazyLoad:v["VueClazyLoad"]},data:function(){return{load:!1}},created:function(){var e=this;this.$upload.on("profile-avatar",{onError:function(e){Object(b["a"])({text:"Error uploading avatar."})},http:function(){var a=Object(f["a"])(regeneratorRuntime.mark(function a(t){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return e.load=!0,a.next=3,e.uploadAvatar(t.body);case 3:e.load=!1,Object(b["b"])({text:"Avatar uploaded."});case 5:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()})},computed:Object(d["a"])({},Object(c["c"])({user:"auth/user"}),{avatar:function(){var e=Object(m["get"])(this.user,"avatar");return e||"/avatar.svg"}}),methods:Object(d["a"])({},Object(c["b"])({uploadAvatar:"profile/uploadAvatar"}))},h=x,_=t("2877"),w=Object(_["a"])(h,u,p,!1,null,null,null);w.options.__file="Uploader.vue";var y=w.exports,C={components:{Uploader:y},computed:Object(d["a"])({},Object(c["c"])({menu:"sidebarMenu/getSidebarMenu"}))},g=C,j=(t("a736"),Object(_["a"])(g,l,o,!1,null,null,null));j.options.__file="SideBar.vue";var k=j.exports,O=t("fd2d"),B={components:{NavBar:i["a"],AppFooter:O["a"],Breadcrumbs:n["a"],SideBar:k}},q=B,E=(t("cdb4"),Object(_["a"])(q,s,r,!1,null,null,null));E.options.__file="User.vue";a["a"]=E.exports},cdb4:function(e,a,t){"use strict";var s=t("f111"),r=t.n(s);r.a},f111:function(e,a,t){}}]);
//# sourceMappingURL=chunk-4c46.f46660e5.js.map