(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d85"],{"024e":function(e,a,t){"use strict";var r=t("b04e"),s=t.n(r);s.a},3749:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("UserLayout",{staticClass:"bg-grey-lightest"},[t("h1",{staticClass:"text-center my-4 md:my-8",attrs:{slot:"page-title"},slot:"page-title"},[e._v("\n    Your Profile\n  ")]),t("div",{staticClass:"flex items-center justify-between border-b pb-4 mb-4"},[t("h6",{staticClass:"font-medium"},[e._v("\n      Personal Details & Contact Information\n    ")]),t("h6",{staticClass:"font-medium"},[e._v("\n      76% Complete\n    ")])]),t("form",{staticClass:"flex-1 flex flex-col justify-between",on:{submit:function(a){return a.preventDefault(),e.updateProfile(a)}}},[t("div",{staticClass:"cols"},[t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"first_name",placeholder:"First name",error:e.validationErrors.first_name},model:{value:e.profile.first_name,callback:function(a){e.$set(e.profile,"first_name",a)},expression:"profile.first_name"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"last_name",placeholder:"Last name",error:e.validationErrors.last_name},model:{value:e.profile.last_name,callback:function(a){e.$set(e.profile,"last_name",a)},expression:"profile.last_name"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"email",placeholder:"Email Address",error:e.validationErrors.email},model:{value:e.profile.email,callback:function(a){e.$set(e.profile,"email",a)},expression:"profile.email"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"address_1",placeholder:"Address Line 1",error:e.validationErrors.address_1},model:{value:e.address.address_1,callback:function(a){e.$set(e.address,"address_1",a)},expression:"address.address_1"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"address_2",placeholder:"Address Line 2",error:e.validationErrors.address_2},model:{value:e.address.address_2,callback:function(a){e.$set(e.address,"address_2",a)},expression:"address.address_2"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"city",placeholder:"Town / City",error:e.validationErrors.city},model:{value:e.address.city,callback:function(a){e.$set(e.address,"city",a)},expression:"address.city"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"state",placeholder:"State / County",error:e.validationErrors.state},model:{value:e.address.state,callback:function(a){e.$set(e.address,"state",a)},expression:"address.state"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"country",placeholder:"Country",error:e.validationErrors.country},model:{value:e.address.country,callback:function(a){e.$set(e.address,"country",a)},expression:"address.country"}})],1),t("div",{staticClass:"col half"},[t("BaseInput",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"postcode",placeholder:"Zip Code / Postcode",error:e.validationErrors.zip_code},model:{value:e.address.zip_code,callback:function(a){e.$set(e.address,"zip_code",a)},expression:"address.zip_code"}})],1)]),t("div",{staticClass:"flex justify-center lg:justify-end"},[t("BaseButton",{staticClass:"min-width shadow",attrs:{disabled:e.load,type:"submit"}},[e.load?t("BaseIcon",{attrs:{name:"spinner",spin:""}}):t("span",[e._v("\n          SAVE\n        ")])],1)],1)])])},s=[],i=(t("96cf"),t("3040")),n=(t("f751"),t("c93e")),l=(t("7f7f"),t("c55f")),o=t("2f62"),d=t("2ef0"),c=t("eae4"),u={page:function(){return{title:this.user.name,meta:[{name:"description",content:"The user profile for ".concat(this.user.name,".")}]}},components:{UserLayout:l["a"]},data:function(){return{profile:{first_name:"",last_name:"",email:"",username:""},address:{address_1:"",address_2:"",state:"",city:"",zip_code:"",country:""},validationErrors:{},load:!1}},computed:Object(n["a"])({},Object(o["c"])({user:"auth/user"})),mounted:function(){this.initData()},methods:Object(n["a"])({},Object(o["b"])({updateUser:"profile/updateUser"}),{initData:function(){this.profile=Object.assign(this.profile,Object(d["pick"])(this.user,["id","first_name","last_name","username","email"])),this.address=Object.assign(this.address,this.user.address)},updateProfile:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var a,t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.load=!0,e.prev=1,e.next=4,this.updateUser(Object(n["a"])({},this.profile,{address:this.address}));case 4:return a=e.sent,t=a.data.data,e.next=8,this.updateCurrentUser(t);case 8:Object(c["c"])({text:"Account successfully updated.",width:400}),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](1),r=e.t0.response.data.errors,this.validationErrors=Object(d["mapValues"])(r,function(e){return Object(d["head"])(e)});case 15:this.load=!1;case 16:case"end":return e.stop()}},e,this,[[1,11]])}));return function(){return e.apply(this,arguments)}}()})},p=u,v=t("2877"),f=Object(v["a"])(p,r,s,!1,null,null,null);f.options.__file="Profile.vue";a["default"]=f.exports},"70ce":function(e,a,t){"use strict";var r=t("fcf3"),s=t.n(r);s.a},b04e:function(e,a,t){},c55f:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("NavBar"),t("div",{staticClass:"content px-3 lg:px-0"},[e._t("page-title"),t("div",{staticClass:"container mx-auto mb-12"},[t("div",{staticClass:"flex flex-col md:flex-row"},[t("SideBar"),t("div",{staticClass:"white-wrapper flex flex-col flex-1 ml-0 md:ml-6"},[e._t("default")],2)],1)])],2),t("Breadcrumbs"),t("AppFooter")],1)},s=[],i=t("d000"),n=t("b6c6"),l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"sidebar"},[t("Uploader"),t("ul",e._l(e.menu,function(a,r){return t("li",{key:r},[t("router-link",{staticClass:"text font-semibold hover:text-green-dark",attrs:{"active-class":"text-green-dark",exact:"",to:a.path}},[e._v("\n        "+e._s(a.name)+"\n      ")])],1)}))],1)},o=[],d=t("c93e"),c=t("2f62"),u=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"uploader"},[t("div",{staticClass:"avatar-wrapper"},[e.load?t("div",{staticClass:"loader"},[t("BaseIcon",{attrs:{name:"spinner",spin:""}})],1):e._e(),t("LazyLoad",{attrs:{src:e.avatar}},[t("img",{attrs:{src:e.avatar}}),t("div",{staticClass:"placeholder",attrs:{slot:"placeholder"},slot:"placeholder"},[t("BaseIcon",{attrs:{name:"spinner",spin:""}})],1)])],1),t("a",{staticClass:"label text font-semibold cursor-pointer",on:{click:function(a){e.$upload.select("profile-avatar")}}},[t("BaseIcon",{attrs:{name:"camera"}}),e._v("\n    Upload Picture\n  ")],1)])},p=[],v=(t("96cf"),t("3040")),f=(t("551c"),t("ea07")),m=t("2ef0"),h=t("eae4"),b={components:{LazyLoad:f["VueClazyLoad"]},data:function(){return{load:!1}},created:function(){var e=this;this.$upload.on("profile-avatar",{onError:function(e){Object(h["a"])({text:"Error uploading avatar."})},http:function(){var a=Object(v["a"])(regeneratorRuntime.mark(function a(t){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return e.load=!0,a.next=3,e.uploadAvatar(t.body);case 3:e.load=!1,Object(h["c"])({text:"Avatar uploaded."});case 5:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()})},computed:Object(d["a"])({},Object(c["c"])({user:"auth/user"}),{avatar:function(){var e=Object(m["get"])(this.user,"avatar");return e||"/avatar.svg"}}),methods:Object(d["a"])({},Object(c["b"])({uploadAvatar:"profile/uploadAvatar"}))},_=b,x=(t("70ce"),t("2877")),C=Object(x["a"])(_,u,p,!1,null,null,null);C.options.__file="Uploader.vue";var y=C.exports,w={components:{Uploader:y},computed:Object(d["a"])({},Object(c["c"])({menu:"sidebarMenu/getSidebarMenu"}))},j=w,O=(t("024e"),Object(x["a"])(j,l,o,!1,null,"71db7090",null));O.options.__file="SideBar.vue";var g=O.exports,B=t("fd2d"),k={components:{NavBar:i["a"],AppFooter:B["a"],Breadcrumbs:n["a"],SideBar:g}},E=k,q=Object(x["a"])(E,r,s,!1,null,null,null);q.options.__file="User.vue";a["a"]=q.exports},fcf3:function(e,a,t){}}]);
//# sourceMappingURL=chunk-6d85.e0cd303e.js.map